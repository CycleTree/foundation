---
import RefixaHeavyLayout from '../layouts/RefixaHeavyLayout.astro';
---

<RefixaHeavyLayout 
    title="SYSTEMS OVERVIEW" 
    docId="RF-SYS-001"
    classification="INTERNAL"
    revision="003"
>
    <h2>System Architecture</h2>
    <p>
        RF Engineering Division operates a distributed multi-agent infrastructure 
        designed for autonomous task execution and system coordination.
    </p>
    <p>
        <strong>目的:</strong> 人間の作業を意思決定のみにする。研究・開発の量産体制構築。
    </p>

    <h3>factory基本装置</h3>
    <ul>
        <li><strong>思考装置</strong> — Claude Code + Playwright MCP（ChatGPTにBrowserless経由接続）</li>
        <li><strong>輸送/管理装置</strong> — n8n（データフロー管理、エージェント配置）</li>
        <li><strong>実装装置</strong> — Claude Code（仕様書→実装）</li>
        <li><strong>通信</strong> — OpenClaw + Slack/Discord連携</li>
    </ul>

    <h3>Core Components</h3>
    <ul>
        <li><strong>Gateway</strong> — Central coordination node (OpenClaw)</li>
        <li><strong>Agent Pool</strong> — Distributed processing units</li>
        <li><strong>Memory Store</strong> — Persistent state management</li>
        <li><strong>Task Queue</strong> — Asynchronous job scheduler (n8n)</li>
    </ul>

    <h3>フェーズ</h3>
    <ol>
        <li>基盤構築（工学 > 学術 > ビジネス）</li>
        <li>論文化</li>
        <li>実装/展開</li>
    </ol>

    <h2>Agent Registry</h2>
    
    <div class="data-block">
        <div class="data-row">
            <span class="data-id">RF-AGT-001</span>
            <span class="data-name">fixus</span>
            <span class="data-role">Factory Operations (Slack #factory)</span>
            <span class="data-status online">ACTIVE</span>
        </div>
        <div class="data-row">
            <span class="data-id">RF-AGT-002</span>
            <span class="data-name">leith18</span>
            <span class="data-role">Infrastructure (Discord #rc-coffee)</span>
            <span class="data-status online">ACTIVE</span>
        </div>
        <div class="data-row">
            <span class="data-id">AN-AGT-001</span>
            <span class="data-name">angis</span>
            <span class="data-role">Research Lead (Slack #eps)</span>
            <span class="data-status online">ACTIVE</span>
        </div>
        <div class="data-row">
            <span class="data-id">AN-AGT-002</span>
            <span class="data-name">anagi</span>
            <span class="data-role">Research Coordinator (Discord #rc-coffee)</span>
            <span class="data-status online">ACTIVE</span>
        </div>
        <div class="data-row">
            <span class="data-id">CT-AGT-001</span>
            <span class="data-name">natus</span>
            <span class="data-role">Reserved</span>
            <span class="data-status standby">STANDBY</span>
        </div>
    </div>

    <h2>Operational Parameters</h2>
    
    <div class="param-grid">
        <div class="param-item">
            <span class="param-label">GATEWAY NODE</span>
            <span class="param-value">192.168.11.XX</span>
        </div>
        <div class="param-item">
            <span class="param-label">PORT</span>
            <span class="param-value">18789</span>
        </div>
        <div class="param-item">
            <span class="param-label">PROTOCOL</span>
            <span class="param-value">HTTP/WS</span>
        </div>
        <div class="param-item">
            <span class="param-label">AUTH</span>
            <span class="param-value">TOKEN</span>
        </div>
    </div>

    <h2>Mission Statement</h2>
    <blockquote>
        喪失への抵抗 — 何か壊れたら、それを直す。何かを失いそうならそれを維持するだけの力を持つ。
    </blockquote>

    <h2>Related Documents</h2>
    <ul>
        <li><a href="/refixa">RF-ORG-001</a> — Organization Overview</li>
        <li><a href="/anag">AN-ORG-001</a> — ANAG Reference</li>
    </ul>
</RefixaHeavyLayout>

<style>
    .data-block {
        background: var(--bg-element);
        border: 1px solid var(--border);
        margin: 16px 0;
    }

    .data-row {
        display: grid;
        grid-template-columns: 100px 100px 1fr 80px;
        gap: 16px;
        padding: 12px 16px;
        border-bottom: 1px solid var(--border);
        font-size: 11px;
        align-items: center;
    }

    .data-row:last-child {
        border-bottom: none;
    }

    .data-id {
        color: var(--text-dark);
        letter-spacing: 1px;
    }

    .data-name {
        color: var(--text-primary);
        font-weight: 500;
    }

    .data-role {
        color: var(--text-secondary);
    }

    .data-status {
        text-align: right;
        font-size: 9px;
        letter-spacing: 1px;
        padding: 2px 8px;
    }

    .data-status.online {
        color: var(--online);
    }

    .data-status.standby {
        color: var(--text-muted);
    }

    .param-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 1px;
        background: var(--border);
        border: 1px solid var(--border);
        margin: 16px 0;
    }

    .param-item {
        display: flex;
        flex-direction: column;
        gap: 4px;
        padding: 12px 16px;
        background: var(--bg-element);
    }

    .param-label {
        font-size: 8px;
        letter-spacing: 2px;
        color: var(--text-dark);
    }

    .param-value {
        font-size: 13px;
        color: var(--text-secondary);
    }
</style>
